<!DOCTYPE html>
<html lang="zh_cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"github.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="è¯ºæ›¼å®éªŒå®¤">
<meta property="og:url" content="http://github.com/rohman-zhu/index.html">
<meta property="og:site_name" content="è¯ºæ›¼å®éªŒå®¤">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Rohman.Zhu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://github.com/rohman-zhu/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh_cn","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>è¯ºæ›¼å®éªŒå®¤</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">è¯ºæ›¼å®éªŒå®¤</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Rohman.Zhu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">465</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">152</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/a2642bfe/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/a2642bfe/" class="post-title-link" itemprop="url">å…è´¹åŸŸåFreeDomainå®è·µ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2026-01-20 11:13:04 / Modified: 11:49:47" itemprop="dateCreated datePublished" datetime="2026-01-20T11:13:04+00:00">2026-01-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/default/" itemprop="url" rel="index"><span itemprop="name">default</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h1><h2 id="æ³¨å†Œè´¦æˆ·"><a href="#æ³¨å†Œè´¦æˆ·" class="headerlink" title="æ³¨å†Œè´¦æˆ·"></a>æ³¨å†Œè´¦æˆ·</h2><h2 id="å¢åŠ é…é¢"><a href="#å¢åŠ é…é¢" class="headerlink" title="å¢åŠ é…é¢"></a>å¢åŠ é…é¢</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸæ–‡å†™ç€å¦‚ä¸‹ä¿¡æ¯ï¼Œéœ€è¦åˆ°é¡¹ç›®é¡µåŠ æ˜Ÿå¯å¢åŠ 1ä¸ªåŸŸåé…é¢ï¼›</span></span><br><span class="line">We believe <span class="keyword">in</span> recognizing developers <span class="built_in">who</span> have supported us. If youâ€™ve already starred our GitHub repository before, weâ€™d love to thank you with one extra free domain slot!</span><br><span class="line"></span><br><span class="line">Log <span class="keyword">in</span> to your GitHub account</span><br><span class="line">Visit ğŸ‘‰ github.com/DigitalPlatDev/FreeDomain</span><br><span class="line">Make sure you<span class="string">&#x27;ve already clicked the â­ â€œStarâ€ button</span></span><br><span class="line"><span class="string">Then click here to verify your GitHub account with us</span></span><br><span class="line"><span class="string">This is completely optional â€” just our small way of saying thank you to those who supported the project</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>xx.kgã€us.kgåŸŸåéœ€è¦è´­ç½®key</p>
</blockquote>
<h2 id="æ³¨å†ŒåŸŸå"><a href="#æ³¨å†ŒåŸŸå" class="headerlink" title="æ³¨å†ŒåŸŸå"></a>æ³¨å†ŒåŸŸå</h2><p>å› ä¸ºxx.kgã€us.kgåŸŸåéœ€è¦è´­ç½®key;</p>
<p>çœ‹äº†ä¸€ä¸‹æ³¨å†Œæ¡æ¬¾ï¼Œqxx.ioçš„æ³¨å†Œæ¡æ¬¾è¦æ±‚ç”³è¯·äººæ˜¯è‹±å±å°åº¦æ´‹é¢†åœ°çš„å±€é¢ï¼Œ æœ¬æ¬¡é€‰æ‹©çš„æ˜¯ dpdns.org;</p>
<blockquote>
<p>2026-01-20è®°å½•ï¼šæ³¨å†ŒæˆåŠŸåæœ‰æ•ˆæœŸ1å¹´ï¼Œåˆ°æœŸå180å¤©å†…å¯ä»¥å…è´¹ç»­è®¢ï¼›</p>
</blockquote>
<h2 id="DNS-æ³¨å†Œ"><a href="#DNS-æ³¨å†Œ" class="headerlink" title="DNS æ³¨å†Œ"></a>DNS æ³¨å†Œ</h2><p>ä½¿ç”¨çš„æ˜¯èµ›åšè©è¨ï¼Œcloudflare</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://dash.domain.digitalplat.org/">https://dash.domain.digitalplat.org/</a><br>é¡¹ç›®æ–‡æ¡£ï¼š <a target="_blank" rel="noopener" href="https://hellogithub.com/repository/DigitalPlatDev/FreeDomain">https://hellogithub.com/repository/DigitalPlatDev/FreeDomain</a><br>é¡¹ç›®åœ°å€ï¼š <a href="https://github.com/DigitalPlatDev/FreeDomain">https://github.com/DigitalPlatDev/FreeDomain</a><br>æ³¨å†Œè´¦æˆ·ï¼š <a href="https://github.com/DigitalPlatDev/FreeDomain/blob/main/documents/tutorial/getting-started/1.1-register-account.md">https://github.com/DigitalPlatDev/FreeDomain/blob/main/documents/tutorial/getting-started/1.1-register-account.md</a><br>DNSæ³¨å†Œï¼š <a href="https://github.com/DigitalPlatDev/FreeDomain/blob/main/documents/tutorial/getting-started/1.2-dns-hosting.md">https://github.com/DigitalPlatDev/FreeDomain/blob/main/documents/tutorial/getting-started/1.2-dns-hosting.md</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/2c8336bc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2c8336bc/" class="post-title-link" itemprop="url">pythonå®ä¾‹-baostockå­¦ä¹ å®ä¾‹</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2026-01-18 13:35:12 / Modified: 15:41:46" itemprop="dateCreated datePublished" datetime="2026-01-18T13:35:12+00:00">2026-01-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" itemprop="url" rel="index"><span itemprop="name">åŸºç¡€çŸ¥è¯†</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">ç¼–ç¨‹</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BC%96%E7%A8%8B/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘å­¦ä¹ ä¸€äº›é‡‘èçŸ¥è¯†ï¼Œå…¶ä¸­æ¶‰åŠä¸€äº›å–æ•°çš„åŠ¨ä½œ(Dirty Job)ï¼ŒæœŸæœ›ä½¿ç”¨APIçš„æ–¹å¼è·å–ï¼›</p>
<p>äº†è§£åˆ°æœ‰ä¸€äº›å¼€æºçš„APIå¯ä»¥è°ƒç”¨ï¼Œéƒ½åŸºäºPythonè·å–åˆ°ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»çŸ¥ä¹äº†è§£åˆ°æœ‰å‡ ä¸ªAPIå¯ä»¥è°ƒç”¨</span></span><br><span class="line"><span class="comment"># åŸæ–‡ï¼šhttps://zhuanlan.zhihu.com/p/363844620</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tushare.pro</span></span><br><span class="line"><span class="comment"># https://tushare.pro/webclient/</span></span><br><span class="line"><span class="comment"># ä¸æ¨èï¼Œéœ€è¦ç§¯åˆ†ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># akshare</span></span><br><span class="line"><span class="comment"># https://akshare.akfamily.xyz/introduction.html</span></span><br><span class="line"><span class="comment"># è²Œä¼¼å¯ä»¥ç”¨ï¼Œä½†æœ‰ç‚¹å¤æ‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BaoStock</span></span><br><span class="line"><span class="comment"># http://baostock.com/mainContent?file=home.md</span></span><br><span class="line"><span class="comment"># å®˜ç½‘è¯´æ˜ ï¼šè¯åˆ¸å®www.baostock.comæ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºçš„è¯åˆ¸æ•°æ®å¹³å°ï¼ˆæ— éœ€æ³¨å†Œï¼‰ã€‚</span></span><br></pre></td></tr></table></figure>

<p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ BaoStock æ–¹æ¡ˆæ¥è¾“å‡ºï¼Œè®°å½•æ‰€æœ‰å®æ“è®°å½•ï¼›</p>
<p>æœŸæœ›åšåˆ°ä»¥ä¸‹å‡ ä¸ªéœ€æ±‚ï¼š</p>
<ol>
<li>è·å–åˆ°51ã€120ã€250ã€850çš„å‡çº¿ï¼›[2026-01-18,å·²éªŒè¯é€šè¿‡]</li>
<li>å¯ä»¥æ ¹æ®æ—¥æœŸè·å–æŒ‡æ•°çš„æ”¶ç›˜å€¼ï¼›[2026-01-18,å·²éªŒè¯é€šè¿‡ï¼›ä½†éƒ¨åˆ†æŒ‡æ•°æ— æ³•é€šè¿‡baostockæŸ¥è¯¢ï¼Œå¯èƒ½å¾—ä½¿ç”¨å…¶ä»–æ–¹æ³•]</li>
<li>å¯ä»¥æ ¹æ®æ—¥æœŸè·å–åŸºé‡‘çš„æ”¶ç›˜å‡€å€¼ï¼›</li>
</ol>
<h1 id="å®æ“è®°å½•"><a href="#å®æ“è®°å½•" class="headerlink" title="å®æ“è®°å½•"></a>å®æ“è®°å½•</h1><h2 id="åˆå§‹åŒ–ç¯å¢ƒ"><a href="#åˆå§‹åŒ–ç¯å¢ƒ" class="headerlink" title="åˆå§‹åŒ–ç¯å¢ƒ"></a>åˆå§‹åŒ–ç¯å¢ƒ</h2><p>OS: Ubuntu 24.04<br>Python: 3.12.3</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">apt install python3-full python3-venv</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> /opt/baostock</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–é¡¹ç›®ç›®å½•</span></span><br><span class="line">python3 -m venv /opt/baostock</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¿€æ´»è™šæ‹ŸåŒ–ç¯å¢ƒ</span></span><br><span class="line"><span class="built_in">source</span> /opt/baostock/bin/activee</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ç¯å¢ƒ</span></span><br><span class="line">pip install baostock -i https://pypi.org/simple </span><br><span class="line"></span><br><span class="line"><span class="comment"># é€€å‡ºè™šæ‹ŸåŒ–ç¯å¢ƒ</span></span><br><span class="line">deactive</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆéœ€è¦venvç¯å¢ƒï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç³»ç»Ÿä¿æŠ¤ï¼šDebian ç³»ç»Ÿè‡ªå¸¦çš„ Python åŒ…ç”± apt ç®¡ç†ï¼Œç›´æ¥ä½¿ç”¨ pip å®‰è£…å¯èƒ½ç ´åç³»ç»Ÿä¾èµ–</span><br><span class="line">ç¯å¢ƒéš”ç¦»ï¼šæ¯ä¸ªé¡¹ç›®å¯ä»¥æœ‰ç‹¬ç«‹çš„åŒ…ç‰ˆæœ¬ï¼Œé¿å…å†²çª</span><br><span class="line">æƒé™é—®é¢˜ï¼šä¸éœ€è¦ä½¿ç”¨ <span class="built_in">sudo</span>ï¼Œæ›´å®‰å…¨</span><br></pre></td></tr></table></figure>


<h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="http://baostock.com/mainContent?file=pythonAPI.md#%E5%85%A5%E9%97%A8%E7%A4%BA%E4%BE%8B">http://baostock.com/mainContent?file=pythonAPI.md#%E5%85%A5%E9%97%A8%E7%A4%BA%E4%BE%8B</a></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line">lg = bs.login()</span><br></pre></td></tr></table></figure>

<h2 id="ç™»å‡º"><a href="#ç™»å‡º" class="headerlink" title="ç™»å‡º"></a>ç™»å‡º</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line">lg = bs.lgout()</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥è¯¢å†å²ä¿¡æ¯"><a href="#æŸ¥è¯¢å†å²ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢å†å²ä¿¡æ¯"></a>æŸ¥è¯¢å†å²ä¿¡æ¯</h2><p>æ–¹æ³•ï¼šquery_history_k_data_plus()<br>è¿”å›ç±»å‹ï¼špandasçš„DataFrameç±»å‹ã€‚</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line">lg = bs.login()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ca </span></span><br><span class="line">rs = bs.query_history_k_data_plus(<span class="string">&quot;sh.600000&quot;</span>,<span class="string">&quot;date,code,open,high,low,close,preclose,volume,amount,adjustflag,turn,tradestatus,pctChg,isST&quot;</span>,start_date=<span class="string">&#x27;2024-07-01&#x27;</span>, end_date=<span class="string">&#x27;2024-12-31&#x27;</span>,frequency=<span class="string">&quot;d&quot;</span>,adjustflag=<span class="string">&quot;3&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä¿¡æ¯</span></span><br><span class="line">rs.get_row_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–åˆ°çš„ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># &quot;date,code,open,high,low,close,preclose,volume,amount,adjustflag,turn,tradestatus,pctChg,isST&quot;</span></span><br><span class="line"><span class="comment"># [&#x27;2024-07-01&#x27;, &#x27;sh.600000&#x27;, &#x27;8.2200&#x27;, &#x27;8.3000&#x27;, &#x27;8.2000&#x27;, &#x27;8.2800&#x27;, &#x27;8.2300&#x27;, &#x27;28732962&#x27;, &#x27;237294502.0600&#x27;, &#x27;3&#x27;, &#x27;0.097900&#x27;, &#x27;1&#x27;, &#x27;0.607500&#x27;, &#x27;0&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>query_history_k_data_plus() å‚æ•°è¯´æ˜</p>
<ul>
<li>codeï¼šè‚¡ç¥¨ä»£ç ï¼Œshæˆ–sz.+6ä½æ•°å­—ä»£ç ï¼Œæˆ–è€…æŒ‡æ•°ä»£ç ï¼Œå¦‚ï¼šsh.601398ã€‚shï¼šä¸Šæµ·ï¼›szï¼šæ·±åœ³ã€‚æ­¤å‚æ•°ä¸å¯ä¸ºç©ºï¼›</li>
<li>fieldsï¼šæŒ‡ç¤ºç®€ç§°ï¼Œæ”¯æŒå¤šæŒ‡æ ‡è¾“å…¥ï¼Œä»¥åŠè§’é€—å·åˆ†éš”ï¼Œå¡«å†™å†…å®¹ä½œä¸ºè¿”å›ç±»å‹çš„åˆ—ã€‚è¯¦ç»†æŒ‡æ ‡åˆ—è¡¨è§å†å²è¡Œæƒ…æŒ‡æ ‡å‚æ•°ç« èŠ‚ï¼Œæ—¥çº¿ä¸åˆ†é’Ÿçº¿å‚æ•°ä¸åŒã€‚æ­¤å‚æ•°ä¸å¯ä¸ºç©ºï¼›</li>
<li>startï¼šå¼€å§‹æ—¥æœŸï¼ˆåŒ…å«ï¼‰ï¼Œæ ¼å¼â€œYYYY-MM-DDâ€ï¼Œä¸ºç©ºæ—¶å–2015-01-01ï¼›</li>
<li>endï¼šç»“æŸæ—¥æœŸï¼ˆåŒ…å«ï¼‰ï¼Œæ ¼å¼â€œYYYY-MM-DDâ€ï¼Œä¸ºç©ºæ—¶å–æœ€è¿‘ä¸€ä¸ªäº¤æ˜“æ—¥ï¼›</li>
<li>frequencyï¼šæ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¸ºdï¼Œæ—¥kçº¿ï¼›d&#x3D;æ—¥kçº¿ã€w&#x3D;å‘¨ã€m&#x3D;æœˆã€5&#x3D;5åˆ†é’Ÿã€15&#x3D;15åˆ†é’Ÿã€30&#x3D;30åˆ†é’Ÿã€60&#x3D;60åˆ†é’Ÿkçº¿æ•°æ®ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼›æŒ‡æ•°æ²¡æœ‰åˆ†é’Ÿçº¿æ•°æ®ï¼›å‘¨çº¿æ¯å‘¨æœ€åä¸€ä¸ªäº¤æ˜“æ—¥æ‰å¯ä»¥è·å–ï¼Œæœˆçº¿æ¯æœˆæœ€åä¸€ä¸ªäº¤æ˜“æ—¥æ‰å¯ä»¥è·å–ã€‚</li>
<li>adjustflagï¼šå¤æƒç±»å‹ï¼Œé»˜è®¤ä¸å¤æƒï¼š3ï¼›1ï¼šåå¤æƒï¼›2ï¼šå‰å¤æƒã€‚å·²æ”¯æŒåˆ†é’Ÿçº¿ã€æ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿å‰åå¤æƒã€‚ BaoStockæä¾›çš„æ˜¯æ¶¨è·Œå¹…å¤æƒç®—æ³•å¤æƒå› å­ï¼Œå…·ä½“ä»‹ç»è§ï¼šBaoStockå¤æƒå› å­ç®€ä»‹ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">æ”¶ç›˜å‰ä»·æ ¼ï¼š</span><br><span class="line"></span><br><span class="line">è¯åˆ¸åœ¨æŒ‡å®šäº¤æ˜“æ—¥è¡Œæƒ…æ•°æ®çš„å‰æ”¶ç›˜ä»·ï¼Œå½“æ—¥å‘ç”Ÿé™¤æƒé™¤æ¯æ—¶ï¼Œâ€œå‰æ”¶ç›˜ä»·â€ä¸æ˜¯å‰ä¸€å¤©çš„å®é™…æ”¶ç›˜ä»·ï¼Œè€Œæ˜¯æ ¹æ®è‚¡æƒç™»è®°æ—¥æ”¶ç›˜ä»·ä¸åˆ†çº¢ç°é‡‘çš„æ•°é‡ã€é…é€è‚¡çš„æ•°é‡Œå’Œé…è‚¡ä»·çš„é«˜ä½ç­‰ç»“åˆèµ·æ¥ç®—å‡ºæ¥çš„ä»·æ ¼ã€‚</span><br><span class="line"></span><br><span class="line">å…·ä½“è®¡ç®—æ–¹æ³•å¦‚ä¸‹:</span><br><span class="line"></span><br><span class="line">1ã€è®¡ç®—é™¤æ¯ä»·:</span><br><span class="line"></span><br><span class="line">é™¤æ¯ä»·=è‚¡æ¯ç™»è®°æ—¥çš„æ”¶ç›˜ä»·-æ¯è‚¡æ‰€åˆ†çº¢åˆ©ç°é‡‘é¢</span><br><span class="line"></span><br><span class="line">2ã€è®¡ç®—é™¤æƒä»·:</span><br><span class="line"></span><br><span class="line">é€çº¢è‚¡åçš„é™¤æƒä»·=è‚¡æƒç™»è®°æ—¥çš„æ”¶ç›˜ä»·/(1+æ¯è‚¡é€çº¢è‚¡æ•°)</span><br><span class="line"></span><br><span class="line">é…è‚¡åçš„é™¤æƒä»·=(è‚¡æƒç™»è®°æ—¥çš„æ”¶ç›˜ä»·+é…è‚¡ä»·*æ¯è‚¡é…è‚¡æ•°)/(1+æ¯è‚¡é…è‚¡æ•°)</span><br><span class="line"></span><br><span class="line">3ã€è®¡ç®—é™¤æƒé™¤æ¯ä»·</span><br><span class="line"></span><br><span class="line">é™¤æƒé™¤æ¯ä»·=(è‚¡æƒç™»è®°æ—¥çš„æ”¶ç›˜ä»·-æ¯è‚¡æ‰€åˆ†çº¢åˆ©ç°é‡‘é¢+é…è‚¡ä»·*æ¯è‚¡é…è‚¡æ•°)/(1+æ¯è‚¡é€çº¢è‚¡æ•°+æ¯è‚¡é…è‚¡æ•°)</span><br><span class="line"></span><br><span class="line">â€œå‰æ”¶ç›˜ä»·â€ç”±äº¤æ˜“æ‰€è®¡ç®—å¹¶å…¬å¸ƒã€‚é¦–å‘æ—¥çš„â€œå‰æ”¶ç›˜ä»·â€ç­‰äºâ€œé¦–å‘ä»·æ ¼â€ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="ç»ƒæ‰‹ï¼Œä¸­è¯ä¼ åª’ï¼Œ399971ã€æ— æ³•é€šè¿‡ã€‘"><a href="#ç»ƒæ‰‹ï¼Œä¸­è¯ä¼ åª’ï¼Œ399971ã€æ— æ³•é€šè¿‡ã€‘" class="headerlink" title="ç»ƒæ‰‹ï¼Œä¸­è¯ä¼ åª’ï¼Œ399971ã€æ— æ³•é€šè¿‡ã€‘"></a>ç»ƒæ‰‹ï¼Œä¸­è¯ä¼ åª’ï¼Œ399971ã€æ— æ³•é€šè¿‡ã€‘</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line">lg = bs.login()</span><br><span class="line"></span><br><span class="line">code1=<span class="string">&quot;sz.399971&quot;</span></span><br><span class="line">rs = bs.query_stock_basic(code1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rs.get_data())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rs = bs.query_history_k_data_plus(code1,</span><br><span class="line">    <span class="string">&quot;date,code,open,high,low,close,preclose,volume,amount,adjustflag,turn,tradestatus,pctChg,peTTM,pbMRQ,psTTM,pcfNcfTTM,isST&quot;</span>,</span><br><span class="line">    start_date=<span class="string">&#x27;2017-06-01&#x27;</span>, end_date=<span class="string">&#x27;2017-12-31&#x27;</span>, </span><br><span class="line">    frequency=<span class="string">&quot;d&quot;</span>, adjustflag=<span class="string">&quot;3&quot;</span>) <span class="comment">#frequency=&quot;d&quot;å–æ—¥kçº¿ï¼Œadjustflag=&quot;3&quot;é»˜è®¤ä¸å¤æƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">while</span> (rs.error_code == <span class="string">&#x27;0&#x27;</span>) &amp; rs.<span class="built_in">next</span>():</span><br><span class="line">    rs.get_row_data()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>2026-01-18ï¼šä¸çŸ¥é“ä¸ºä»€ä¹ˆæ— æ³•è·å–åˆ°sz.399971çš„æ•°æ®ï¼›</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># http://baostock.com/mainContent?file=dataExplain.md</span><br><span class="line"># æŸ¥è¯¢åˆ°çš„æ•°æ®ï¼Œä¸åŒ…å« 399971</span><br></pre></td></tr></table></figure>

<h3 id="ç»ƒæ‰‹ï¼Œä¸­è¯500-000905ã€æµ‹è¯•é€šè¿‡ã€‘"><a href="#ç»ƒæ‰‹ï¼Œä¸­è¯500-000905ã€æµ‹è¯•é€šè¿‡ã€‘" class="headerlink" title="ç»ƒæ‰‹ï¼Œä¸­è¯500,000905ã€æµ‹è¯•é€šè¿‡ã€‘"></a>ç»ƒæ‰‹ï¼Œä¸­è¯500,000905ã€æµ‹è¯•é€šè¿‡ã€‘</h3><p>æŸ¥è¯¢ 000905 å†å²çš„å¼€ç›˜æŒ‡æ•°ä¸æ”¶ç›˜æŒ‡æ•°ï¼›<br>ä¸”éœ€æ ¹æ®æŒ‡å®šæ—¥æœŸè¾“å‡ºï¼›</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Version:v1</span></span><br><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line">lg = bs.login()</span><br><span class="line"></span><br><span class="line">code1=<span class="string">&quot;sh.000905&quot;</span></span><br><span class="line">select_date_list=[<span class="string">&#x27;2018-08-06&#x27;</span>,<span class="string">&#x27;2018-10-11&#x27;</span>,<span class="string">&#x27;2019-03-07&#x27;</span>,<span class="string">&#x27;2019-06-18&#x27;</span>,<span class="string">&#x27;2020-02-26&#x27;</span>,<span class="string">&#x27;2022-01-10&#x27;</span>,<span class="string">&#x27;2022-04-26&#x27;</span>,<span class="string">&#x27;2022-05-16&#x27;</span>,<span class="string">&#x27;2024-01-22&#x27;</span>,<span class="string">&#x27;2024-02-28&#x27;</span>]</span><br><span class="line">index=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">rs = bs.query_stock_basic(code1)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rs.get_data())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">rs=bs.query_history_k_data_plus(code1,<span class="string">&#x27;date,code,open,close&#x27;</span>,start_date=<span class="string">&quot;2018-08-06&quot;</span>,end_date=<span class="string">&quot;2024-03-01&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rs.get_data())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">data_list = []</span><br><span class="line"><span class="keyword">while</span> (rs.error_code == <span class="string">&#x27;0&#x27;</span>) &amp; rs.<span class="built_in">next</span>():</span><br><span class="line">    <span class="comment"># è·å–ä¸€æ¡è®°å½•ï¼Œå°†è®°å½•åˆå¹¶åœ¨ä¸€èµ·</span></span><br><span class="line">    data_list.append(rs.get_row_data())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> data_list:</span><br><span class="line">    <span class="keyword">if</span>(item[<span class="number">0</span>] == select_date_list[index] <span class="keyword">and</span> index &lt; <span class="built_in">len</span>(select_date_list)):</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line">        index+= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">bs.logout()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æµ‹è¯•é€šè¿‡</p>
</blockquote>
<p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">login success!</span><br><span class="line">-------------</span><br><span class="line">        code code_name     ipoDate outDate <span class="built_in">type</span> status</span><br><span class="line">0  sh.000905   ä¸­è¯500æŒ‡æ•°  2007-01-15            2      1</span><br><span class="line">-------------</span><br><span class="line">-------------</span><br><span class="line">            <span class="built_in">date</span>       code       open      close</span><br><span class="line">0     2018-08-06  sh.000905  4919.5010  4825.2500</span><br><span class="line">1     2018-08-07  sh.000905  4836.3130  4956.8710</span><br><span class="line">2     2018-08-08  sh.000905  4940.7790  4880.5690</span><br><span class="line">3     2018-08-09  sh.000905  4862.1540  5004.7730</span><br><span class="line">4     2018-08-10  sh.000905  5000.0480  5030.5140</span><br><span class="line">...          ...        ...        ...        ...</span><br><span class="line">1346  2024-02-26  sh.000905  5194.7370  5195.4642</span><br><span class="line">1347  2024-02-27  sh.000905  5174.8194  5307.8043</span><br><span class="line">1348  2024-02-28  sh.000905  5311.4253  5184.0471</span><br><span class="line">1349  2024-02-29  sh.000905  5154.1487  5346.7929</span><br><span class="line">1350  2024-03-01  sh.000905  5350.8566  5379.0482</span><br><span class="line"></span><br><span class="line">[1351 rows x 4 columns]</span><br><span class="line">-------------</span><br><span class="line"><span class="built_in">logout</span> success!</span><br></pre></td></tr></table></figure>

<h3 id="ç»ƒæ‰‹ï¼Œä¸­è¯500-000905ï¼Œè®¾ç½®å‡çº¿"><a href="#ç»ƒæ‰‹ï¼Œä¸­è¯500-000905ï¼Œè®¾ç½®å‡çº¿" class="headerlink" title="ç»ƒæ‰‹ï¼Œä¸­è¯500,000905ï¼Œè®¾ç½®å‡çº¿"></a>ç»ƒæ‰‹ï¼Œä¸­è¯500,000905ï¼Œè®¾ç½®å‡çº¿</h3><p>51ã€120ã€250ã€850æ—¥å‡çº¿è·å–ä¸è®¡ç®—ï¼›</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /bin/python</span></span><br><span class="line"><span class="comment"># ä¸­è¯500æ•°æ®è·å–</span></span><br><span class="line"><span class="comment"># Version:v1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> baostock <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lg = bs.login()</span><br><span class="line">code=<span class="string">&#x27;sh.000905&#x27;</span></span><br><span class="line"></span><br><span class="line">rs = bs.query_stock_basic(code)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rs.get_data())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">rs=bs.query_history_k_data_plus(code,<span class="string">&#x27;date,code,open,close&#x27;</span>,start_date=<span class="string">&quot;2015-08-06&quot;</span>,end_date=<span class="string">&quot;2024-03-01&quot;</span>)</span><br><span class="line"><span class="comment">#print(&quot;-------------&quot;)</span></span><br><span class="line"><span class="comment">#print(rs.get_data())</span></span><br><span class="line"><span class="comment">#print(&quot;-------------&quot;)</span></span><br><span class="line"></span><br><span class="line">data_list=[]</span><br><span class="line"><span class="keyword">while</span>(rs.error_code == <span class="string">&#x27;0&#x27;</span>) &amp; rs.<span class="built_in">next</span>():</span><br><span class="line">    data_list.append(rs.get_row_data());</span><br><span class="line"></span><br><span class="line">select_date_list=[<span class="string">&#x27;2018-08-06&#x27;</span>,<span class="string">&#x27;2018-10-11&#x27;</span>,<span class="string">&#x27;2019-03-07&#x27;</span>,<span class="string">&#x27;2019-06-18&#x27;</span>,<span class="string">&#x27;2020-02-26&#x27;</span>,<span class="string">&#x27;2022-01-10&#x27;</span>,<span class="string">&#x27;2022-04-26&#x27;</span>,<span class="string">&#x27;2022-05-16&#x27;</span>,<span class="string">&#x27;2024-01-22&#x27;</span>,<span class="string">&#x27;2024-02-28&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data_list, columns=rs.fields)</span><br><span class="line">df[<span class="string">&#x27;date&#x27;</span>] = pd.to_datetime(df[<span class="string">&#x27;date&#x27;</span>])</span><br><span class="line">df.set_index(<span class="string">&#x27;date&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">numeric_cols = [<span class="string">&#x27;open&#x27;</span>, <span class="string">&#x27;close&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> col <span class="keyword">in</span> numeric_cols:</span><br><span class="line">    df[col] = pd.to_numeric(df[col], errors=<span class="string">&#x27;coerce&#x27;</span>)</span><br><span class="line"></span><br><span class="line">df.sort_index(inplace=<span class="literal">True</span>)</span><br><span class="line">df[<span class="string">f&#x27;MA<span class="subst">&#123;<span class="number">51</span>&#125;</span>&#x27;</span>] = df[<span class="string">&#x27;close&#x27;</span>].rolling(window=<span class="number">51</span>, min_periods=<span class="number">1</span>).mean()</span><br><span class="line">df[<span class="string">f&#x27;MA<span class="subst">&#123;<span class="number">120</span>&#125;</span>&#x27;</span>] = df[<span class="string">&#x27;close&#x27;</span>].rolling(window=<span class="number">120</span>, min_periods=<span class="number">1</span>).mean()</span><br><span class="line">df[<span class="string">f&#x27;MA<span class="subst">&#123;<span class="number">250</span>&#125;</span>&#x27;</span>] = df[<span class="string">&#x27;close&#x27;</span>].rolling(window=<span class="number">250</span>, min_periods=<span class="number">1</span>).mean()</span><br><span class="line">df[<span class="string">f&#x27;MA<span class="subst">&#123;<span class="number">850</span>&#125;</span>&#x27;</span>] = df[<span class="string">&#x27;close&#x27;</span>].rolling(window=<span class="number">850</span>, min_periods=<span class="number">1</span>).mean()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line">bs.logout()</span><br></pre></td></tr></table></figure>

<p>ç»“æœæ•°æ®å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">login success!</span><br><span class="line">-------------</span><br><span class="line">        code code_name     ipoDate outDate type status</span><br><span class="line">0  sh.000905   ä¸­è¯500æŒ‡æ•°  2007-01-15            2      1</span><br><span class="line">-------------</span><br><span class="line">                 code       open      close         MA51        MA120        MA250        MA850</span><br><span class="line">date                                                                                           </span><br><span class="line">2015-08-06  sh.000905  7660.5830  7792.0280  7792.028000  7792.028000  7792.028000  7792.028000</span><br><span class="line">2015-08-07  sh.000905  7874.4160  8013.3190  7902.673500  7902.673500  7902.673500  7902.673500</span><br><span class="line">2015-08-10  sh.000905  8106.1200  8394.0860  8066.477667  8066.477667  8066.477667  8066.477667</span><br><span class="line">2015-08-11  sh.000905  8402.3180  8435.3270  8158.690000  8158.690000  8158.690000  8158.690000</span><br><span class="line">2015-08-12  sh.000905  8342.6050  8336.3370  8194.219400  8194.219400  8194.219400  8194.219400</span><br><span class="line">...               ...        ...        ...          ...          ...          ...          ...</span><br><span class="line">2024-02-26  sh.000905  5194.7370  5195.4642  5171.522051  5424.958099  5796.561056  6286.599642</span><br><span class="line">2024-02-27  sh.000905  5174.8194  5307.8043  5168.123400  5422.084194  5792.254882  6285.027713</span><br><span class="line">2024-02-28  sh.000905  5311.4253  5184.0471  5161.967663  5418.774490  5787.833156  6283.257221</span><br><span class="line">2024-02-29  sh.000905  5154.1487  5346.7929  5157.691959  5416.296593  5784.270706  6281.721039</span><br><span class="line">2024-03-01  sh.000905  5350.8566  5379.0482  5154.022751  5413.036032  5780.402628  6280.371827</span><br><span class="line"></span><br><span class="line">[2082 rows x 7 columns]</span><br><span class="line">logout success!</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä»½æ•°æ®çš„é—®é¢˜æ˜¯æœªè¾¾å‡çº¿æ—¶é—´çš„æ•°æ®æœ‰å¼‚å¸¸ï¼›åº”è¯¥æ˜¯ä»2015-08-06å¼€å§‹è®¡ç®—ï¼Œç¬¬851æ—¥åçš„æ•°æ®æ‰å¯ç”¨ï¼Œè€Œ850æ—¥ä»¥å‰çš„å‡çº¿æ•°æ®ä¸å¯ç”¨ï¼›</p>
</blockquote>
<h2 id="æŸ¥è¯¢åŸºæœ¬èµ„æ–™"><a href="#æŸ¥è¯¢åŸºæœ¬èµ„æ–™" class="headerlink" title="æŸ¥è¯¢åŸºæœ¬èµ„æ–™"></a>æŸ¥è¯¢åŸºæœ¬èµ„æ–™</h2><p>æ–¹æ³•ï¼šquery_stock_basic()</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>BaoStockè¯´æ˜æ–‡æ¡£ï¼š <a target="_blank" rel="noopener" href="http://baostock.com/mainContent?file=home.md">http://baostock.com/mainContent?file=home.md</a><br>BaoStockåŒ…å«çš„æŒ‡æ•°ï¼š<a target="_blank" rel="noopener" href="http://baostock.com/mainContent?file=dataExplain.md">http://baostock.com/mainContent?file=dataExplain.md</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/2670331c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2670331c/" class="post-title-link" itemprop="url">è®°å½•ä¸€æ¬¡ä»£ç†å¼•å‘çš„ä¸‹è½½é€Ÿç‡æ’æŸ¥æ•…éšœ-TODO</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2026-01-11 15:23:30 / Modified: 15:34:13" itemprop="dateCreated datePublished" datetime="2026-01-11T15:23:30+00:00">2026-01-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ•…éšœèƒŒæ™¯"><a href="#æ•…éšœèƒŒæ™¯" class="headerlink" title="æ•…éšœèƒŒæ™¯"></a>æ•…éšœèƒŒæ™¯</h1><p>æœ¬æ¬¡æ•…éšœæœ‰3ä¸ªè§’è‰²</p>
<table>
<thead>
<tr>
<th align="center">IP</th>
<th align="center">è§’è‰²</th>
<th align="center">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="center">å†…ç½‘çš„ä¸€å°æœåŠ¡å™¨</td>
<td align="center">ç”¨æˆ·ä½¿ç”¨çš„æœåŠ¡å™¨ï¼Œéœ€è¦å¯¹å…¬ç½‘çš„ä¸€ä¸ªç½‘ç›˜åšä¸Šä¼ ä¸‹è½½åŠ¨ä½œ</td>
</tr>
<tr>
<td align="center">B</td>
<td align="center">æ˜¯DMZåŒºçš„ä¸€å°æœåŠ¡å™¨ï¼Œéƒ¨ç½²çš„æ˜¯ä»£ç†ä¸šåŠ¡</td>
<td align="center">éƒ¨ç½²äº†ä»£ç†æœåŠ¡å™¨ï¼Œç”¨äºä»£ç† å†…ç½‘æœåŠ¡å™¨å¯¹å¤–ç½‘çš„è®¿é—® è¯·æ±‚</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">å‡ºå£IP</td>
<td align="center">æ˜¯æœ¬æ¬¡çš„å…¶ä¸­ä¸€ä¸ªå‡ºå£IPï¼Œå‡ºå£å¸¦å®½åªæœ‰100Mbps</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">å‡ºå£IP</td>
<td align="center">æ˜¯æœ¬æ¬¡çš„å…¶ä¸­ä¸€ä¸ªå‡ºå£IPï¼Œå‡ºå£å¸¦å®½æœ‰ 1Gbps</td>
</tr>
</tbody></table>
<p>ä¸šåŠ¡è¯‰æ±‚å°±æ˜¯åœ¨Aä¸Šé¢å¯¹å…¬ç½‘çš„èµ„æºåšä¸Šä¼ ä¸‹è½½åŠ¨ä½œï¼Œé€Ÿç‡éœ€è¦æé«˜åˆ° 40MBps ï¼Œå³ 320Mbps ï¼›è€Œç›®å‰ä»£ç†èµ°çš„å…¬ç½‘å‡ºå£æ˜¯Cï¼Œç†è®ºä¸‹è½½å³°å€¼é€Ÿç‡åªæœ‰12MBpsï¼Œå› æ­¤éœ€è¦åšæé€ŸåŠ¨ä½œï¼›è€Œä¸”ç”¨æˆ·åœ¨å®é™…ä¸‹è½½è¿‡ç¨‹ä¸­ï¼Œåªæœ‰100KBpsåŸä¸åŠé¢„æœŸï¼›</p>
<p>ä»¥ä¸‹ä¸ºæœ¬æ¬¡æ“ä½œè¿‡ç¨‹è®°å½•ï¼š</p>
<h2 id="ç¬¬ä¸€ä¸ªæ•…éšœï¼Œè§£å†³ä¸‹è½½é€Ÿç‡åªæœ‰100KBpsçš„é—®é¢˜"><a href="#ç¬¬ä¸€ä¸ªæ•…éšœï¼Œè§£å†³ä¸‹è½½é€Ÿç‡åªæœ‰100KBpsçš„é—®é¢˜" class="headerlink" title="ç¬¬ä¸€ä¸ªæ•…éšœï¼Œè§£å†³ä¸‹è½½é€Ÿç‡åªæœ‰100KBpsçš„é—®é¢˜"></a>ç¬¬ä¸€ä¸ªæ•…éšœï¼Œè§£å†³ä¸‹è½½é€Ÿç‡åªæœ‰100KBpsçš„é—®é¢˜</h2><p>ç›®æ ‡åŸŸåå­˜åœ¨å¤šä¸ªè§£æåœ°å€ï¼Œä¸åŒçš„è§£æåœ°å€è®¿é—®é€Ÿç‡å‡ä¸ä¸€æ ·ï¼›</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/2e4ca40/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2e4ca40/" class="post-title-link" itemprop="url">Grafanaå­¦ä¹ </a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-12-08 16:16:35 / Modified: 16:40:42" itemprop="dateCreated datePublished" datetime="2025-12-08T16:16:35+00:00">2025-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å­¦ä¹ ä¸€ä¸‹Grafana+Jsonçš„ç›‘æ§å±•ç¤ºæ–¹æ¡ˆï¼›</p>
<h2 id="ç¯å¢ƒè¯´æ˜"><a href="#ç¯å¢ƒè¯´æ˜" class="headerlink" title="ç¯å¢ƒè¯´æ˜"></a>ç¯å¢ƒè¯´æ˜</h2><p>æœ¬æ¬¡ä½¿ç”¨çš„ç¯å¢ƒç”¨çš„æ˜¯WSL + Grafanaï¼ŒWSLç”¨çš„æ˜¯ubuntu24.04ï¼›</p>
<h3 id="é…ç½®è½¯ä»¶ä»“åº“"><a href="#é…ç½®è½¯ä»¶ä»“åº“" class="headerlink" title="é…ç½®è½¯ä»¶ä»“åº“"></a>é…ç½®è½¯ä»¶ä»“åº“</h3><p>Ubuntu 24.04é‡Œé¢éœ€è¦é…ç½® </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ GPGå…¬é’¥</span></span><br><span class="line">wget -q -O /usr/share/keyrings/grafana.key https://apt.grafana.com/gpg.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®ä¿aptæ”¯æŒhttps</span></span><br><span class="line">apt-get install -y apt-transport-https</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¾‘grafanaä»£ç ä»“</span></span><br><span class="line">vim /etc/apt/sources.list.d/grafana.list</span><br><span class="line"></span><br><span class="line"><span class="comment">## æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">deb [signed-by=/usr/share/keyrings/grafana.key] https://mirrors.tuna.tsinghua.edu.cn/grafana/apt/ stable main</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…Grafa</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install grafana</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…marcusolsson-json-datasourceæ’ä»¶"><a href="#å®‰è£…marcusolsson-json-datasourceæ’ä»¶" class="headerlink" title="å®‰è£…marcusolsson-json-datasourceæ’ä»¶"></a>å®‰è£…marcusolsson-json-datasourceæ’ä»¶</h3><p>åœ¨å·¦è¾¹å¯¼èˆªæ ä¸­ï¼ŒConnections&#x2F;Add new connectioné‡Œé¢ï¼Œæœç´¢marcusolsson-json-datasourceï¼ŒæŸ¥è¯¢åˆ°JSON APIï¼›</p>
<p>ç‚¹å‡»JSON APIï¼Œç‚¹å‡»â€œInstallâ€</p>
<h3 id="é…ç½®JSONæ•°æ®æº"><a href="#é…ç½®JSONæ•°æ®æº" class="headerlink" title="é…ç½®JSONæ•°æ®æº"></a>é…ç½®JSONæ•°æ®æº</h3><p>å¯ä»¥å°†Jsonæ•°æ®æ”¾å…¥ &#x2F;usr&#x2F;share&#x2F;grafana&#x2F;public ç›®å½•ä¸‹ï¼›</p>
<p>æœ¬æ¬¡å°†jsonæ•°æ®æ”¾å…¥ &#x2F;usr&#x2F;share&#x2F;grafana&#x2F;public&#x2F;data.json;<br>å¯¹åº”çš„è·¯å¾„å°±æ˜¯ <a target="_blank" rel="noopener" href="http://localhost:3000/public/data.json">http://localhost:3000/public/data.json</a>;</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># data.jsonçš„æ•°æ®å¦‚ä¸‹</span></span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">        <span class="string">&quot;mortgage&quot;</span>:  &#123;</span><br><span class="line">                         <span class="string">&quot;Interest_rate&quot;</span>:  0.030500000000000003,</span><br><span class="line">                         <span class="string">&quot;term&quot;</span>:  1,</span><br><span class="line">                         <span class="string">&quot;mortgage_principal&quot;</span>:  1888.8888888888889,</span><br><span class="line">                         <span class="string">&quot;mortgage_interest&quot;</span>:  1728.3333333333335</span><br><span class="line">                     &#125;,</span><br><span class="line">        <span class="string">&quot;Date&quot;</span>:  <span class="string">&quot;2026-01-02&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;mortgage&quot;</span>:  &#123;</span><br><span class="line">                         <span class="string">&quot;Interest_rate&quot;</span>:  0.030500000000000003,</span><br><span class="line">                         <span class="string">&quot;term&quot;</span>:  2,</span><br><span class="line">                         <span class="string">&quot;mortgage_principal&quot;</span>:  1888.8888888888889,</span><br><span class="line">                         <span class="string">&quot;mortgage_interest&quot;</span>:  1723.5324074074076</span><br><span class="line">                     &#125;,</span><br><span class="line">        <span class="string">&quot;Date&quot;</span>:  <span class="string">&quot;2026-02-02&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ æ•°æ®æº:</p>
<ol>
<li>Connections&#x2F;Data sourcesï¼Œç‚¹å‡»â€œAdd data sourceâ€;</li>
<li>ç‚¹å‡»â€œJSON APIâ€ï¼›</li>
<li>Nameéšä¾¿å¡«å†™</li>
<li>å…³é”®çš„æ˜¯Connectioné‡Œé¢çš„URLï¼Œä»¥ä¸‹æœ‰ä¸¤ç§æ–¹å¼ï¼›</li>
</ol>
<h4 id="å¯¼å…¥æ–¹å¼ä¸€ï¼šjsonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„è¯»å–"><a href="#å¯¼å…¥æ–¹å¼ä¸€ï¼šjsonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„è¯»å–" class="headerlink" title="å¯¼å…¥æ–¹å¼ä¸€ï¼šjsonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„è¯»å–"></a>å¯¼å…¥æ–¹å¼ä¸€ï¼šjsonæ–‡ä»¶çš„ç»å¯¹è·¯å¾„è¯»å–</h4><h5 id="æ·»åŠ æ•°æ®æº"><a href="#æ·»åŠ æ•°æ®æº" class="headerlink" title="æ·»åŠ æ•°æ®æº"></a>æ·»åŠ æ•°æ®æº</h5><p>åœ¨data sourceé‡Œé¢ï¼Œæ·»åŠ JSON APIï¼Œé‡Œé¢çš„URLå¡«å†™çš„æ˜¯ <a target="_blank" rel="noopener" href="http://localhost:3000/public/data.json">http://localhost:3000/public/data.json</a> ;<br>ç‚¹å‡»â€œSave &amp; testâ€</p>
<h5 id="åˆ›å»ºé¢æ¿"><a href="#åˆ›å»ºé¢æ¿" class="headerlink" title="åˆ›å»ºé¢æ¿"></a>åˆ›å»ºé¢æ¿</h5><ol>
<li>ç‚¹å‡» Dashboardsï¼Œç‚¹å‡»â€œCreate dashboardâ€ï¼›</li>
<li>ç‚¹å‡»â€œAdd visualizationâ€;</li>
<li>é€‰æ‹©åˆšæ‰åˆ›å»ºçš„ â€œdata sourceâ€;</li>
</ol>
<h5 id="æ·»åŠ æŸ¥è¯¢"><a href="#æ·»åŠ æŸ¥è¯¢" class="headerlink" title="æ·»åŠ æŸ¥è¯¢"></a>æ·»åŠ æŸ¥è¯¢</h5><p>å› ä¸ºåˆšæ‰æ·»åŠ çš„æ˜¯ç»å¯¹è·¯å¾„çš„æ•°æ®æºï¼Œè€Œæˆ‘ä»¬çš„æ•°æ®å°±æ˜¯æ ‡å‡†çš„jsonæ ¼å¼ï¼Œæ‰€ä»¥åœ¨Fieldsä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¡«å…¥å¯¹åº”çš„æ•°æ®äº†ï¼›</p>
<ol>
<li>æ—¥æœŸæ•°æ®ï¼š$[*].date;</li>
<li>å…·ä½“æ•°æ®ï¼š$[*].mortgage.mortgage_interest;</li>
</ol>
<h5 id="æ·»åŠ é¢æ¿æ ·å¼"><a href="#æ·»åŠ é¢æ¿æ ·å¼" class="headerlink" title="æ·»åŠ é¢æ¿æ ·å¼"></a>æ·»åŠ é¢æ¿æ ·å¼</h5><ol>
<li>å³è¾¹çš„ Visualization ä¸­ï¼Œé€‰æ‹© Tableï¼Œåˆ™å¯ä»¥è·å–åˆ°è¡¨æ ¼æ ·å¼ï¼›</li>
<li>å³è¾¹çš„ Visualization ä¸­ï¼Œé€‰æ‹© Time seriesï¼Œåˆ™å¯ä»¥å¾—åˆ°åˆ™çº¿å›¾ï¼›</li>
</ol>
<h4 id="å¯¼å…¥æ–¹å¼äºŒï¼šjsonæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„"><a href="#å¯¼å…¥æ–¹å¼äºŒï¼šjsonæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„" class="headerlink" title="å¯¼å…¥æ–¹å¼äºŒï¼šjsonæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„"></a>å¯¼å…¥æ–¹å¼äºŒï¼šjsonæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„</h4><h5 id="æ·»åŠ æ•°æ®æº-1"><a href="#æ·»åŠ æ•°æ®æº-1" class="headerlink" title="æ·»åŠ æ•°æ®æº"></a>æ·»åŠ æ•°æ®æº</h5><p>åœ¨data sourceé‡Œé¢ï¼Œæ·»åŠ JSON APIï¼Œé‡Œé¢çš„URLå¡«å†™çš„æ˜¯ <a target="_blank" rel="noopener" href="http://localhost:3000/">http://localhost:3000</a>;<br>ç‚¹å‡»â€œSave &amp; testâ€</p>
<h5 id="åˆ›å»ºé¢æ¿-1"><a href="#åˆ›å»ºé¢æ¿-1" class="headerlink" title="åˆ›å»ºé¢æ¿"></a>åˆ›å»ºé¢æ¿</h5><ol>
<li>ç‚¹å‡» Dashboardsï¼Œç‚¹å‡»â€œCreate dashboardâ€ï¼›</li>
<li>ç‚¹å‡»â€œAdd visualizationâ€;</li>
<li>é€‰æ‹©åˆšæ‰åˆ›å»ºçš„ â€œdata sourceâ€;</li>
</ol>
<h5 id="æ·»åŠ æŸ¥è¯¢-1"><a href="#æ·»åŠ æŸ¥è¯¢-1" class="headerlink" title="æ·»åŠ æŸ¥è¯¢"></a>æ·»åŠ æŸ¥è¯¢</h5><p>åœ¨ä¸‹æ–¹çš„Pathé€‰é¡¹å¡ï¼Œå¡«å…¥&#x2F;public&#x2F;data.json ï¼Œå¹¶é€‰æ‹©GETæ–¹æ³•ï¼›</p>
<p>å› ä¸ºåˆšæ‰æ·»åŠ çš„æ˜¯ç»å¯¹è·¯å¾„çš„æ•°æ®æºï¼Œè€Œæˆ‘ä»¬çš„æ•°æ®å°±æ˜¯æ ‡å‡†çš„jsonæ ¼å¼ï¼Œæ‰€ä»¥åœ¨Fieldsä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¡«å…¥å¯¹åº”çš„æ•°æ®äº†ï¼›</p>
<ol>
<li>æ—¥æœŸæ•°æ®ï¼š$[*].Date;</li>
<li>å…·ä½“æ•°æ®ï¼š$[*].mortgage.mortgage_interest;</li>
</ol>
<h5 id="æ·»åŠ é¢æ¿æ ·å¼-1"><a href="#æ·»åŠ é¢æ¿æ ·å¼-1" class="headerlink" title="æ·»åŠ é¢æ¿æ ·å¼"></a>æ·»åŠ é¢æ¿æ ·å¼</h5><ol>
<li>å³è¾¹çš„ Visualization ä¸­ï¼Œé€‰æ‹© Tableï¼Œåˆ™å¯ä»¥è·å–åˆ°è¡¨æ ¼æ ·å¼ï¼›</li>
<li>å³è¾¹çš„ Visualization ä¸­ï¼Œé€‰æ‹© Time seriesï¼Œåˆ™å¯ä»¥å¾—åˆ°åˆ™çº¿å›¾ï¼›</li>
</ol>
<blockquote>
<p>æ³¨æ„å¤§å°å†™ï¼›</p>
</blockquote>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>Grafanaæ¸…åè½¯ä»¶ä»“åº“ï¼š<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/grafana/">https://mirrors.tuna.tsinghua.edu.cn/help/grafana/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/52af3966/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/52af3966/" class="post-title-link" itemprop="url">PVE-è™šæ‹Ÿæœºç½‘ç»œå®éªŒè®°å½•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-11-30 04:39:25 / Modified: 14:33:41" itemprop="dateCreated datePublished" datetime="2025-11-30T04:39:25+00:00">2025-11-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/PVE/" itemprop="url" rel="index"><span itemprop="name">PVE</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="å®éªŒèƒŒæ™¯"><a href="#å®éªŒèƒŒæ™¯" class="headerlink" title="å®éªŒèƒŒæ™¯"></a>å®éªŒèƒŒæ™¯</h1><p>æœ‰ä¸€å°è™šæ‹Ÿæœºï¼Œå¸¦æœ‰ä¸¤å¼ ç½‘å¡ï¼Œåˆ†åˆ«ä¸ºå†…ç½‘åŠŸèƒ½ä¸å¤–ç½‘åŠŸèƒ½ï¼›ç°åšä¸€ä¸‹å®éªŒï¼Œä»¥å®ç°å†…ç½‘é€šè®¯æˆ–å¤–ç½‘é€šè®¯ï¼›</p>
<p>è™šæ‹Ÿæœºç½‘ç»œé…ç½®å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th align="center">IP</th>
<th align="center">ç½‘å¡å</th>
<th align="center">ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1.0.0.1</td>
<td align="center">ens19</td>
<td align="center">ç”¨äºè®¿é—®å¤–ç½‘ï¼Œè·Ÿå®¿ä¸»æœºåŒä¸€ä¸ªç½‘æ®µ</td>
</tr>
<tr>
<td align="center">2.0.0.1</td>
<td align="center">ens18</td>
<td align="center">ç”¨äºè®¿é—®å†…ç½‘ï¼Œè·Ÿå†…éƒ¨æœåŠ¡çš„æœåŠ¡å™¨ä¸€ä¸ªç½‘æ®µ</td>
</tr>
</tbody></table>
<p>å‚ä¸å®éªŒçš„è§’è‰²ï¼š</p>
<ol>
<li>å¸¦æœ‰åŒç½‘å¡çš„è¯•éªŒæœºï¼ˆè™šæ‹Ÿæœºï¼‰ï¼›</li>
<li>è™šæ‹Ÿæœºæ‰€åœ¨çš„å®¿ä¸»æœºï¼›</li>
</ol>
<h2 id="è®¿é—®å¤–ç½‘å®éªŒ"><a href="#è®¿é—®å¤–ç½‘å®éªŒ" class="headerlink" title="è®¿é—®å¤–ç½‘å®éªŒ"></a>è®¿é—®å¤–ç½‘å®éªŒ</h2><p>æœŸæœ›ç”¨ 1.0.0.1 è·Ÿå¤–éƒ¨é€šè®¯ï¼Œå¯ä»¥å®ç°aptä¸‹è½½æˆ–DNSè§£æä¹‹ç±»çš„æœåŠ¡ï¼›</p>
<p>åœ¨è¯•éªŒæœºä¸­å‘èµ·ping 8.8.8.8ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 8.8.8.8</span><br></pre></td></tr></table></figure>

<p>åœ¨å®¿ä¸»æœºä¸­ç›‘å¬icmpæµé‡ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump icmp -n</span><br></pre></td></tr></table></figure>

<h3 id="å‡å¦‚æ²¡æœ‰è®¾ç½®ç½‘å…³"><a href="#å‡å¦‚æ²¡æœ‰è®¾ç½®ç½‘å…³" class="headerlink" title="å‡å¦‚æ²¡æœ‰è®¾ç½®ç½‘å…³"></a>å‡å¦‚æ²¡æœ‰è®¾ç½®ç½‘å…³</h3><p>è¯•éªŒæœº ping 8.8.8.8 ï¼Œä¸å­˜åœ¨é»˜è®¤è·¯ç”±ï¼Œåˆ™ä¼šå‡ºç°</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping: connect: Network is unreachable</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ³•ï¼šæ·»åŠ ç½‘å…³æˆ–è€…æ·»åŠ è·¯ç”±ç­–ç•¥ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ ç½‘å…³</span></span><br><span class="line">ip route add 0.0.0.0/0 via [gateway]</span><br></pre></td></tr></table></figure>

<h3 id="å‡å¦‚åªæœ‰å‡ºåŒ…ï¼Œæ²¡æœ‰å›åŒ…"><a href="#å‡å¦‚åªæœ‰å‡ºåŒ…ï¼Œæ²¡æœ‰å›åŒ…" class="headerlink" title="å‡å¦‚åªæœ‰å‡ºåŒ…ï¼Œæ²¡æœ‰å›åŒ…"></a>å‡å¦‚åªæœ‰å‡ºåŒ…ï¼Œæ²¡æœ‰å›åŒ…</h3><p>è§£å†³å®Œç½‘å…³é—®é¢˜åï¼Œè¯•éªŒæœº ping 8.8.8.8 ï¼Œ ä¾æ—§æ— æ³•pingé€šï¼Œåœ¨å®¿ä¸»æœºä¸­æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°è¯•éªŒæœºçš„ipåœ¨ping 8.8.8.8ï¼Œä½†æ²¡æœ‰å›åŒ…ï¼›</p>
<p>å¯èƒ½æ˜¯è·¯ç”±å™¨çš„é—®é¢˜ï¼Œæˆ‘å°†è¯•éªŒæœºæ”¹æˆDHCPåï¼Œå³å¯ä¸å¤–ç½‘é€šè®¯ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®æˆDHCPåï¼Œçœ‹åˆ°è™šæ‹Ÿæœºçš„è·¯ç”±ç­–ç•¥æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</span></span><br><span class="line">ip route show</span><br><span class="line"><span class="comment"># æœ‰å¦‚ä¸‹è®°å½•</span></span><br><span class="line">default via [é»˜è®¤ç½‘å…³] dev ens18 proto dhcp src [dhcpåè·å–çš„IP] metric 100</span><br><span class="line">1.0.0.0/24 dev ens18 proto kernel scope <span class="built_in">link</span> src [dhcpåè·å–çš„IP] metric 100</span><br><span class="line">[é»˜è®¤ç½‘å…³] devens18 proto dhcp scope <span class="built_in">link</span> src [dhcpåè·å–çš„IP] metric 100</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">default via 1.0.0.254 dev ens18 proto dhcp src 1.0.0.1 metric 100</span><br><span class="line">1.0.0.0/24 dev ens18 proto kernel scope <span class="built_in">link</span> src 1.0.0.1  metric 100</span><br><span class="line">1.0.0.254 devens18 proto dhcp scope <span class="built_in">link</span> src 1.0.0.1  metric 100</span><br></pre></td></tr></table></figure>

<p>ç»“æœå‘ç°æ˜¯å‘çˆ¹çš„è·¯ç”±å™¨ï¼Œä¸èƒ½é…ç½®1.0.0.1çš„IPï¼Œæœ€ä½ä¸º10.0.0.2ï¼›</p>
<p>è§£å†³æ–¹æ³•ï¼šå°†è¯•éªŒæœºæ”¹ä¸º1.0.0.2å³å¯è§£å†³é—®é¢˜ï¼›</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/daff1950/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/daff1950/" class="post-title-link" itemprop="url">Photon Linuxç¼–å†™iptablesç­–ç•¥å¹¶æŒä¹…åŒ–ä¿å­˜</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-11-16 15:42:45 / Modified: 15:47:14" itemprop="dateCreated datePublished" datetime="2025-11-16T15:42:45+00:00">2025-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/VMware/" itemprop="url" rel="index"><span itemprop="name">VMware</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/VMware/Photon-Linux/" itemprop="url" rel="index"><span itemprop="name">Photon Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>éœ€è¦ä½¿ç”¨iptableså¯¹Photon Linuxä¸Šçš„æµé‡è¿›è¡Œç®¡æ§ï¼›</p>
<h1 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–å†™ç­–ç•¥</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªè·Ÿå¸¸è§„çš„iptablesç­–ç•¥ç¼–å†™æ²¡æœ‰åŒºåˆ«</span></span><br><span class="line"><span class="comment"># ä¾‹å¦‚æ‹¦æˆª9443çš„è®¿é—®</span></span><br><span class="line">iptable -I INPUT -p tcp --dport 9443 -j DROP</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­–ç•¥æŒä¹…åŒ–ä¿å­˜</span></span><br><span class="line">iptables-save &gt; /etc/systemd/scripts/ip4save</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/89296def/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/89296def/" class="post-title-link" itemprop="url">PVEåœ¨Grubèœå•æ— æ³•è‡ªåŠ¨å€’è®¡æ—¶</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-11-16 08:26:14 / Modified: 08:41:43" itemprop="dateCreated datePublished" datetime="2025-11-16T08:26:14+00:00">2025-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/default/" itemprop="url" rel="index"><span itemprop="name">default</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ•…éšœæè¿°"><a href="#æ•…éšœæè¿°" class="headerlink" title="æ•…éšœæè¿°"></a>æ•…éšœæè¿°</h1><p>PVEå®¿ä¸»æœºåœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œè¿›å…¥åˆ°GRUBèœå•åå°±ä¸ä¼šè¿›è¡Œå€’è®¡æ—¶å¹¶è¿›å…¥OSï¼Œå®Œå…¨å¡ä½ï¼›</p>
<h1 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h1><p>PVEæœ¬è´¨ä¸Šæ˜¯Debiançš„Linuxç‰ˆæœ¬ï¼Œå¼•å¯¼èœå•çš„è§„èŒƒä¹Ÿéµå¾ªç€Grubèœå•è¯­æ³•è¦æ±‚ï¼Œé…ç½®å¯ä»¥é”šå®š &#x2F;etc&#x2F;default&#x2F;grub çš„é…ç½®æ–‡ä»¶åï¼Œç”¨update-grub æŒ‡ä»¤è‡ªåŠ¨ç”Ÿæˆé…ç½®ï¼›</p>
<p>å¯ä»¥åœ¨&#x2F;boot&#x2F;grub&#x2F;grub.cfgèœå•ä¸­çœ‹åˆ°æœ‰å¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜é…ç½®æ˜¯é€šè¿‡&#x2F;etc&#x2F;default&#x2F;grubæ§åˆ¶çš„ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># DO NOT EDIT THIS FILE</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is automatically generated by grub-mkconfig using templates</span></span><br><span class="line"><span class="comment"># from /etc/grub.d and settings from /etc/default/grub</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œè¿˜æœ‰å¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;recordfail&#125;</span>&quot;</span> = 1 ] ; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">set</span> <span class="built_in">timeout</span>=30</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="keyword">if</span> [ x<span class="variable">$feature_timeout_style</span> = xy ] ; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">set</span> timeout_style=menu</span><br><span class="line">    <span class="built_in">set</span> <span class="built_in">timeout</span>=0</span><br><span class="line">  <span class="comment"># Fallback normal timeout code in case the timeout_style feature is</span></span><br><span class="line">  <span class="comment"># unavailable.</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">set</span> <span class="built_in">timeout</span>=0</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>Grubå¦‚æœæ²¡æœ‰æ­£å¸¸å¼•å¯¼å¯åŠ¨ï¼Œåˆ™recordfailä¼šè®¾ç½®ä¸º1ï¼Œå€’è®¡æ—¶åˆ™ä¼šä¸º30ç§’ï¼›å¦‚æœæ˜¯æ­£å¸¸çš„ï¼Œåˆ™ä¼šè¿›å…¥åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„å€’è®¡æ—¶ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯0ï¼›è¿™ä¹Ÿå°±æ˜¯ä¸ºå•¥æˆ‘åœ¨å¯åŠ¨æ—¶ï¼Œè¿›è¡Œå¤šå‡ æ¬¡CTRL+ALT+DELï¼Œå°±ä¼šè¿›å…¥GRUBçš„åŸå› ï¼›<br>å› æ­¤çœ‹ä¸Šå»é…ç½®æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œéƒ½æœ‰æ­£å¸¸çš„è®¾ç½®è¯­å¥ï¼›</p>
<p>åœ¨&#x2F;etc&#x2F;default&#x2F;grubä¸­ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¦‚ä¸‹é…ç½®:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_HIDDEN_TIMEOUT_QUIET=<span class="literal">false</span></span><br><span class="line">GRUB_TIMEOUT=0</span><br><span class="line">GRUB_TIMEOUT_STYLE=menu</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || <span class="built_in">echo</span> Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet&quot;</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘å®Œåï¼Œä½¿ç”¨update-grubä¹Ÿèƒ½ç”Ÿæˆå¯¹åº”æ–‡ä»¶è‡³GRUBå¼•å¯¼æ–‡ä»¶ï¼Œè¯´æ˜æ­¤æœºåˆ¶ä¹Ÿæ­£å¸¸ï¼›</p>
<p>é‚£åªå‰©ä¸‹æœ€åä¸€ç§å¯èƒ½äº†ï¼Œæœ‰å¯èƒ½ç•Œé¢æœ‰å€’è®¡æ—¶å¼•å¯¼ï¼Œä½†æ˜¯è®¾å¤‡å¯èƒ½æ¥æ”¶åˆ°äº†è¾“å…¥ä¿¡å·ï¼Œå¯¼è‡´å€’è®¡æ—¶è¢«ä¸­æ–­ï¼Œä»è€Œæ•´ä¸ªç•Œé¢éƒ½åœä½â€¦æˆ‘ç”¨çš„è¿™å°è®¾å¤‡æ˜¯ä¸€å°ç¬”è®°æœ¬è®¾å¤‡ï¼Œæ˜¯äº2015å¹´ä¹°çš„ï¼Œç°åœ¨å±å¹•å·²ç»æœ‰æ•…éšœã€é”®ç›˜æœ‰éƒ¨åˆ†æŒ‰é”®å·²æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸æ’é™¤ç¡¬ä»¶æ•…éšœå¼•èµ·çš„é—®é¢˜ï¼›</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>æ–¹æ³•ä¸€ï¼šç§»é™¤é”®ç›˜æˆ–è€…æ›´æ¢æ–°çš„é”®ç›˜ï¼Œé¿å…æœ‰è¾“å…¥ï¼›ã€ROIä¸é«˜ï¼Œæ­¤æ–¹æ¡ˆå°±ç®—äº†ã€‘<br>æ–¹æ³•äºŒï¼šå°†timeoutè®¾ç½®ä¸º0ï¼Œæ­£å¸¸çŠ¶æ€ä¸‹å°±è‡ªåŠ¨è¿›å…¥OSï¼›éæ­£å¸¸çŠ¶æ€å°±å†è‡ªè¡Œä¿®å¤ï¼Œåˆ©ç”¨recordfailçš„åˆ¤æ–­è¯­å¥å»è¿›å…¥Grubï¼Œä¹Ÿæœ€çœäº‹ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ /etc/default/grub ä¸­çš„GRUB_TIMEOUTå‚æ•°ï¼Œç½®0ï¼›</span></span><br><span class="line">vim /etc/default/grub</span><br><span class="line">GRUB_TIMEOUT=0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆé…ç½®æ–‡ä»¶</span></span><br><span class="line">update-grub</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/cda5d336/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/cda5d336/" class="post-title-link" itemprop="url">PVEå¼‚å¸¸å…³æœºæ’æŸ¥è¿‡ç¨‹è®°å½•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-11-15 09:27:11 / Modified: 11:02:54" itemprop="dateCreated datePublished" datetime="2025-11-15T09:27:11+00:00">2025-11-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/default/" itemprop="url" rel="index"><span itemprop="name">default</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="æ•…éšœæè¿°"><a href="#æ•…éšœæè¿°" class="headerlink" title="æ•…éšœæè¿°"></a>æ•…éšœæè¿°</h1><p>å‘ç°å®¶é‡Œçš„PVEå®¿ä¸»æœºèŠ‚ç‚¹å…³æœºäº†ï¼Œç›®å‰è¿˜ä¸çŸ¥é“å•¥åŸå› å¯¼è‡´çš„å…³æœºï¼›è®°å½•ä¸€ä¸‹æ’æŸ¥è¿‡ç¨‹ï¼Œå¹¶ä¸”è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æ–°çš„æŠ€èƒ½ç‚¹éœ€è¦è®°å½•ï¼›</p>
<h2 id="å…³äºæ—¥å¿—"><a href="#å…³äºæ—¥å¿—" class="headerlink" title="å…³äºæ—¥å¿—"></a>å…³äºæ—¥å¿—</h2><p>æˆ‘ç™»å½•åˆ°PVEå®¿ä¸»æœºï¼Œå‘ç°&#x2F;var&#x2F;logç›®å½•ä¸‹ï¼Œæ²¡æœ‰syslogæ—¥å¿—ä¸messageæ—¥å¿—ï¼›</p>
<p>æˆ‘çš„PVEç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#root@inspire-3443:/# uname -a</span></span><br><span class="line">Linux inspire-3443 6.8.12-4-pve <span class="comment">#1 SMP PREEMPT_DYNAMIC PMX 6.8.12-4 (2024-11-06T15:04Z) x86_64 GNU/Linux</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#root@inspire-3443:/# pveversion -v</span></span><br><span class="line">proxmox-ve: 8.3.0 (running kernel: 6.8.12-4-pve)</span><br><span class="line">pve-manager: 8.3.0 (running version: 8.3.0/c1689ccb1065a83b)</span><br><span class="line">proxmox-kernel-helper: 8.1.0</span><br><span class="line">proxmox-kernel-6.8: 6.8.12-4</span><br><span class="line">proxmox-kernel-6.8.12-4-pve-signed: 6.8.12-4</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨ WEB GUI ç•Œé¢çœ‹åˆ°å¯¹åº”çš„æ—¥å¿—ä¿¡æ¯ï¼ˆç±»ä¼¼syslogã€messageï¼‰ï¼Œè¯´æ˜æ˜¯æœ‰æ—¥å¿—è®°å½•çš„ï¼ŒæŸ¥è¯¢äº†ä¸€ä¸‹ï¼Œæ˜¯ä½¿ç”¨ journalctl æŸ¥çœ‹çš„ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥journaldæœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl status systemd-journald</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿæ—¥å¿—</span></span><br><span class="line">journalctl</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®æ—¶æ—¥å¿—</span></span><br><span class="line">journalctl -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—</span></span><br><span class="line">journalctl --since <span class="string">&quot;2024-01-01 00:00:00&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ PVE ç›¸å…³æœåŠ¡æ—¥å¿—</span></span><br><span class="line">journalctl -u pve*</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—</span></span><br><span class="line">journalctl -u pve-manager -u pve-proxy -u pve-daemon</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³çœ‹syslogçš„è¯ï¼Œåˆ™éœ€è¦å®‰è£…rsyslogæœåŠ¡</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install rsyslog</span><br><span class="line">systemctl status rsyslog</span><br><span class="line"><span class="built_in">cat</span> /var/log/rsyslog</span><br></pre></td></tr></table></figure>

<h2 id="æ’æŸ¥è¿‡ç¨‹"><a href="#æ’æŸ¥è¿‡ç¨‹" class="headerlink" title="æ’æŸ¥è¿‡ç¨‹"></a>æ’æŸ¥è¿‡ç¨‹</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥é‡å¯æ—¶é—´</span></span><br><span class="line">last reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ—¥å¿—æ–­å±‚çš„æ—¶é—´</span></span><br><span class="line">journalctl --since <span class="string">&quot;2025-11-12 00:00:00&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰å¦‚ä¸‹ä¿¡æ¯</span></span><br><span class="line">Nov 12 06:17:15 inspire-3443 systemd[1]: Stopped getty@tty1.service - Getty on tty1.</span><br><span class="line">Nov 12 06:17:15 inspire-3443 systemd[1]: Started getty@tty1.service - Getty on tty1.</span><br><span class="line">Nov 12 06:17:15 inspire-3443 systemd[1]: apt-daily-upgrade.service: Deactivated successfully.</span><br><span class="line">Nov 12 06:17:15 inspire-3443 systemd[1]: Finished apt-daily-upgrade.service - Daily apt upgrade and clean activities.</span><br><span class="line">-- Reboot --</span><br><span class="line">Nov 15 15:52:00 inspire-3443 kernel: Linux version 6.8.12-4-pve (build@proxmox) (gcc (Debian 12.2.0-14) 12.2.0, GNU ld (GNU Binutils <span class="keyword">for</span> Debian) 2.40) <span class="comment">#1 SMP PREEMPT_DYNAMIC PMX 6.8.12-4 (2024-11-06T15:04Z) ()</span></span><br><span class="line">Nov 15 15:52:00 inspire-3443 kernel: Command line: BOOT_IMAGE=/boot/vmlinuz-6.8.12-4-pve root=/dev/mapper/pve-root ro quiet</span><br><span class="line">Nov 15 15:52:00 inspire-3443 kernel: KERNEL supported cpus:</span><br></pre></td></tr></table></figure>
<blockquote>
<p>çœ‹åˆ°æœ‰æ¯æ—¥æ›´æ–°æœåŠ¡ç›¸å…³çš„ä¿¡æ¯ï¼Œå°±æ²¡æœ‰çœ‹åˆ°ç›¸å…³è”çš„ä¿¡æ¯ï¼›</p>
</blockquote>
<p>å†çœ‹çœ‹é”™è¯¯æ—¥å¿—ä¿¡æ¯</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">journalctl -p 3 -xb</span><br><span class="line"><span class="comment"># journalctl æ˜¯ systemd ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ—¥å¿—æŸ¥çœ‹å™¨ï¼Œsystemd(PID 1)ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -p ï¼Œé€‰é¡¹ç”¨äºæŒ‡å®šæ—¥å¿—ä¼˜å…ˆçº§ï¼ˆpriorityï¼‰ï¼›</span></span><br><span class="line"><span class="comment">#0: emergï¼ˆç´§æ€¥ï¼‰</span></span><br><span class="line"><span class="comment">#1: alertï¼ˆè­¦å‘Šï¼‰</span></span><br><span class="line"><span class="comment">#2: critï¼ˆä¸¥é‡ï¼‰</span></span><br><span class="line"><span class="comment">#3: errï¼ˆé”™è¯¯ï¼‰</span></span><br><span class="line"><span class="comment">#4: warningï¼ˆè­¦å‘Šï¼‰</span></span><br><span class="line"><span class="comment">#5: noticeï¼ˆæ³¨æ„ï¼‰</span></span><br><span class="line"><span class="comment">#6: infoï¼ˆä¿¡æ¯ï¼‰</span></span><br><span class="line"><span class="comment">#7: debugï¼ˆè°ƒè¯•ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -xï¼ŒåŠ è§£é‡Šæ€§ä¿¡æ¯ã€‚å½“æ˜¾ç¤ºæ—¥å¿—æ¡ç›®æ—¶ï¼Œä¼šå°è¯•é€šè¿‡systemdçš„ç›®å½•ï¼ˆå¦‚å•å…ƒã€è®¾å¤‡ã€æŒ‚è½½ç‚¹ç­‰ï¼‰æä¾›æ›´å¤šçš„è§£é‡Šæ€§ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¾ç¤ºå•å…ƒçŠ¶æ€çš„è¯¦ç»†å˜åŒ–æˆ–é”™è¯¯ä¿¡æ¯çš„å¯èƒ½è§£é‡Šã€‚</span></span><br><span class="line"><span class="comment"># -bï¼Œé™åˆ¶åªæ˜¾ç¤ºæœ¬æ¬¡å¯åŠ¨ï¼ˆcurrent bootï¼‰çš„æ—¥å¿—ã€‚å¦‚æœä¸æŒ‡å®šå¯åŠ¨æ¬¡æ•°ï¼Œé»˜è®¤å°±æ˜¯å½“å‰å¯åŠ¨ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰å¦‚ä¸‹ä¿¡æ¯</span></span><br><span class="line">Nov 15 15:52:00 inspire-3443 kernel: [Firmware Bug]: TSC_DEADLINE disabled due to Errata; please update microcode to version: 0x25 (or later)</span><br><span class="line">Nov 15 15:52:14 inspire-3443 kernel: Bluetooth: Patch file not found ar3k/AthrBT_0x31010000.dfu</span><br><span class="line">Nov 15 15:52:14 inspire-3443 kernel: Bluetooth: Loading patch file failed</span><br><span class="line">Nov 15 15:53:02 inspire-3443 agetty[852]: tty1: input overrun</span><br><span class="line">Nov 15 15:53:52 inspire-3443 agetty[1358]: tty1: input overrun</span><br><span class="line">Nov 15 15:54:41 inspire-3443 agetty[1552]: tty1: input overrun</span><br><span class="line">Nov 15 15:55:31 inspire-3443 agetty[1755]: tty1: input overrun</span><br><span class="line">Nov 15 15:56:21 inspire-3443 agetty[2000]: tty1: input overrun</span><br><span class="line">Nov 15 15:57:10 inspire-3443 agetty[2221]: tty1: input overrun</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ’æŸ¥è¿›å±•"><a href="#æ’æŸ¥è¿›å±•" class="headerlink" title="æ’æŸ¥è¿›å±•"></a>æ’æŸ¥è¿›å±•</h2><p>2025-11-15ï¼Œçœ‹äº†æ—¥å¿—æ²¡æœ‰æ˜æ˜¾æŠ¥é”™ï¼Œä½†æœ‰éƒ¨åˆ†æ˜¯å…³äºè‡ªåŠ¨æ›´æ–°çš„æœåŠ¡ï¼›ä¸ªäººæ„Ÿè§‰åº”è¯¥å°†è¿™ä¸ªæœåŠ¡å™¨å…³é—­ï¼Œåç»­å†è§‚å¯Ÿä¸€ä¸‹å§;</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> apt-daily-upgrade.timer</span><br><span class="line">systemctl mask apt-daily-upgrade.timer</span><br><span class="line">systemctl <span class="built_in">disable</span> apt-daily-upgrade.service</span><br><span class="line">systemctl mask apt-daily-upgrade.service</span><br><span class="line">systemctl <span class="built_in">disable</span> apt-daily.timer</span><br><span class="line">systemctl mask apt-daily.timer</span><br><span class="line">systemctl <span class="built_in">disable</span> apt-daily.service</span><br><span class="line">systemctl mask apt-daily.service</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/5f71b6d9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/5f71b6d9/" class="post-title-link" itemprop="url">Horizon-RESTå®è·µ-ç”¨æˆ·æ¡Œé¢æ± æˆæƒ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2025-11-09 15:52:06 / Modified: 18:50:07" itemprop="dateCreated datePublished" datetime="2025-11-09T15:52:06+00:00">2025-11-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/VMware/" itemprop="url" rel="index"><span itemprop="name">VMware</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/VMware/Horizon/" itemprop="url" rel="index"><span itemprop="name">Horizon</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="èƒŒæ™¯è¯´æ˜"><a href="#èƒŒæ™¯è¯´æ˜" class="headerlink" title="èƒŒæ™¯è¯´æ˜"></a>èƒŒæ™¯è¯´æ˜</h1><p>ä½¿ç”¨Powershellå†™RESTè°ƒç”¨çš„è„šæœ¬ï¼Œå¯ä»¥ç”¨PowershellåŸç”Ÿçš„Invoke-RESTMethod;</p>
<figure class="highlight ps1"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;## Windows ç‰ˆæœ¬å¤„ç† httpã€httpsçš„è¯·æ±‚æŒ‡ä»¤</span></span><br><span class="line"><span class="comment">Invoke-RestMethod -Uri &lt;string&gt; [-Method &lt;string&gt;] [-Body &lt;object&gt;] [-Headers &lt;hashtable&gt;] [-ContentType &lt;string&gt;]</span></span><br><span class="line"><span class="comment">-Uri: REST APIçš„URLåœ°å€ã€‚</span></span><br><span class="line"><span class="comment">-Method: HTTPæ–¹æ³•ï¼ˆå¦‚GETã€POSTã€PUTã€DELETEç­‰ï¼‰ï¼Œé»˜è®¤ä¸ºGETã€‚</span></span><br><span class="line"><span class="comment">-Body: è¯·æ±‚ä½“ï¼Œé€šå¸¸ä¸ºJSONæ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment">-Headers: è¯·æ±‚å¤´ï¼Œç”¨äºä¼ é€’é¢å¤–ä¿¡æ¯ï¼ˆå¦‚è®¤è¯ä¿¡æ¯ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">-ContentType: è¯·æ±‚ä½“çš„æ ¼å¼ï¼ˆå¦‚application/jsonï¼‰ã€‚</span></span><br><span class="line"><span class="comment">#&gt;</span></span><br></pre></td></tr></table></figure>

<p>è€ŒHorizonç›¸å…³çš„APIæ¥å£ï¼Œå¯ä»¥çœ‹ htttps:&#x2F;&#x2F;[Horizon Connection Server ip]&#x2F;rest&#x2F;swagger-ui&#x2F;index.htmlï¼›</p>
<h2 id="éœ€æ±‚è¯´æ˜"><a href="#éœ€æ±‚è¯´æ˜" class="headerlink" title="éœ€æ±‚è¯´æ˜"></a>éœ€æ±‚è¯´æ˜</h2><p>å¯¹100å¤šä¸ªç”¨æˆ·æ‰¹é‡æˆæƒï¼Œå«æ¡Œé¢æ± æˆæƒï¼Œç”¨æˆ·ä¸è™šæ‹Ÿæœºä¹‹é—´çš„ç»‘å®šå…³ç³»æˆæƒï¼›</p>
<h2 id="è„šæœ¬å®ç°"><a href="#è„šæœ¬å®ç°" class="headerlink" title="è„šæœ¬å®ç°"></a>è„šæœ¬å®ç°</h2><figure class="highlight ps1"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ConnectionServerIP</span>=<span class="string">&quot;xxx&quot;</span>;</span><br><span class="line"><span class="variable">$Target_Desktop_Pool_Name</span>=<span class="string">&quot;xxx&quot;</span>;</span><br><span class="line"><span class="variable">$Domain</span>=<span class="string">&quot;xxx&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$POST</span>=<span class="string">&quot;POST&quot;</span>;</span><br><span class="line"><span class="variable">$GET</span>=<span class="string">&quot;GET&quot;</span>;</span><br><span class="line"><span class="variable">$ContentType_DEFAULT</span>=<span class="string">&quot;application/json&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºç¡€URL</span></span><br><span class="line"><span class="variable">$base_uri</span>=<span class="string">&quot;https://<span class="variable">$ConnectionServerIP</span>/rest&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬ä¸€æ­¥è·å–è®¤è¯</span></span><br><span class="line"><span class="variable">$rest_login</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/login&quot;</span>;</span><br><span class="line"><span class="variable">$body_login</span>=<span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&quot;domain&quot;</span>=<span class="string">&quot;xxx&quot;</span></span><br><span class="line">    <span class="string">&quot;password&quot;</span>=<span class="string">&quot;xxx&quot;</span></span><br><span class="line">    <span class="string">&quot;username&quot;</span>=<span class="string">&quot;xx&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­˜åœ¨SSLçš„é—®é¢˜</span></span><br><span class="line"><span class="comment"># Invoke-WebRequest å¯ä»¥æ·»åŠ SkipCertificateCheckå‚æ•°</span></span><br><span class="line"><span class="comment">&lt;#</span></span><br><span class="line"><span class="comment">add-type @&quot;</span></span><br><span class="line"><span class="comment">    using System.Net;</span></span><br><span class="line"><span class="comment">    using System.Security.Cryptography.X509Certificates;</span></span><br><span class="line"><span class="comment">    public class TrustAllCertsPolicy : ICertificatePolicy &#123;</span></span><br><span class="line"><span class="comment">        public bool CheckValidationResult(</span></span><br><span class="line"><span class="comment">            ServicePoint srvPoint, X509Certificate certificate,</span></span><br><span class="line"><span class="comment">            WebRequest request, int certificateProblem) &#123;</span></span><br><span class="line"><span class="comment">            return true;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&quot;@</span></span><br><span class="line"><span class="comment">[System.Net.ServicePointManager]::CertificatePolicy = New-Object TrustAllCertsPolicy</span></span><br><span class="line"><span class="comment">å‚è€ƒï¼šhttps://www.pstips.net/invoke-restmethod-access-https.html</span></span><br><span class="line"><span class="comment">#&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$token_set</span>=<span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_login</span> <span class="literal">-Method</span> <span class="variable">$POST</span> <span class="literal">-Body</span> <span class="variable">$</span>(<span class="variable">$body_login</span>|<span class="built_in">ConvertTo-Json</span>) <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line"><span class="variable">$access_token</span>=<span class="variable">$token_set</span>.access_token;</span><br><span class="line"></span><br><span class="line"><span class="variable">$headers</span>=<span class="selector-tag">@</span>&#123;</span><br><span class="line">    <span class="string">&quot;Authorization&quot;</span>=<span class="string">&quot;Bearer <span class="variable">$access_token</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒæ­¥ï¼Œè·å–åˆ°ç›®æ ‡æ¡Œé¢æ± ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># è·å–æ¡Œé¢æ± åˆ—è¡¨</span></span><br><span class="line"><span class="variable">$rest_get_desktop_pools</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/inventory/v1/desktop-pools&quot;</span></span><br><span class="line"><span class="variable">$desktop_set</span>=<span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_get_desktop_pools</span> <span class="literal">-Method</span> <span class="variable">$GET</span> <span class="literal">-headers</span> <span class="variable">$headers</span> <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç‰¹å®šçš„æ¡Œé¢æ± ä¿¡æ¯</span></span><br><span class="line"><span class="variable">$desktop</span>=<span class="variable">$desktop_set</span> | <span class="built_in">Where-Object</span> &#123;<span class="variable">$_</span>.Name <span class="operator">-match</span> <span class="variable">$Target_Desktop_Pool_Name</span>&#125;;</span><br><span class="line"><span class="comment"># æ¡Œé¢æ± ID</span></span><br><span class="line"><span class="variable">$desktop_id</span>=<span class="variable">$desktop</span>.id;</span><br><span class="line"></span><br><span class="line"><span class="variable">$rest_get_desktop_pools_target</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/inventory/v1/desktop-pools/<span class="variable">$desktop_id</span>&quot;</span>;</span><br><span class="line"><span class="variable">$desktop_set</span>=<span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_get_desktop_pools_target</span> <span class="literal">-Method</span> <span class="variable">$GET</span> <span class="literal">-headers</span> <span class="variable">$headers</span> <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æœºå™¨ID</span></span><br><span class="line"><span class="variable">$rest_machine_set</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/inventory/v1/machines/&quot;</span>;</span><br><span class="line"><span class="variable">$machine_set</span>=<span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_machine_set</span> <span class="literal">-Method</span> <span class="variable">$GET</span> <span class="literal">-headers</span> <span class="variable">$headers</span> <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æˆ·æˆæƒä¸æœºå™¨ç»‘å®š</span></span><br><span class="line"><span class="variable">$rest_desktop_pools</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/entitlements/v1/desktop-pools&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$UserObject_Set</span> | <span class="built_in">ForEach-Object</span>&#123;</span><br><span class="line">    <span class="variable">$UserObject</span>=<span class="variable">$_</span>;</span><br><span class="line">    <span class="variable">$machine_name</span>=<span class="variable">$UserObject</span>.DNS_Name;</span><br><span class="line">    <span class="variable">$username</span>=<span class="variable">$UserObject</span>.username;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="variable">$user_sid</span>=(<span class="built_in">New-Object</span> System.Security.Principal.NTAccount(<span class="variable">$Domain</span>,<span class="variable">$username</span>)).Translate([<span class="type">System.Security.Principal.SecurityIdentifier</span>]).Value;</span><br><span class="line">    <span class="variable">$body_entitlements</span>=<span class="selector-tag">@</span>();</span><br><span class="line">    <span class="variable">$entitlements_object</span>=<span class="selector-tag">@</span>&#123;</span><br><span class="line">        <span class="string">&quot;ad_user_or_group_ids&quot;</span>=<span class="selector-tag">@</span>()</span><br><span class="line">        <span class="string">&quot;id&quot;</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$entitlements_object</span>.ad_user_or_group_ids+=<span class="variable">$user_sid</span>;</span><br><span class="line">    <span class="variable">$entitlements_object</span>.id=<span class="variable">$desktop_id</span>;</span><br><span class="line">    <span class="variable">$body_entitlements</span>+=<span class="variable">$entitlements_object</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_desktop_pools</span> <span class="literal">-Method</span> <span class="variable">$POST</span> <span class="literal">-Body</span> <span class="variable">$</span>(<span class="string">&quot;[&quot;</span>+<span class="variable">$</span>(<span class="variable">$body_entitlements</span>|<span class="built_in">ConvertTo-Json</span>)+<span class="string">&quot;]&quot;</span>) <span class="literal">-headers</span> <span class="variable">$headers</span> <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$machine_object</span>=<span class="variable">$machine_set</span> | <span class="built_in">Where-Object</span> &#123;<span class="variable">$_</span>.dns_name <span class="operator">-like</span> <span class="variable">$machine_name</span>&#125;;</span><br><span class="line">    <span class="variable">$machine_id</span>=<span class="variable">$machine_object</span>.id;</span><br><span class="line">    <span class="variable">$rest_assign_users</span>=<span class="variable">$base_uri</span>+<span class="string">&quot;/inventory/v1/machines/&quot;</span>+<span class="variable">$machine_id</span>+<span class="string">&quot;/action/assign-users&quot;</span>;</span><br><span class="line">    <span class="built_in">Invoke-RestMethod</span> <span class="literal">-Uri</span> <span class="variable">$rest_assign_users</span> <span class="literal">-Method</span> <span class="variable">$POST</span> <span class="literal">-Body</span> <span class="variable">$</span>(<span class="string">&quot;[&quot;</span><span class="string">&quot;&quot;</span>+<span class="variable">$user_sid</span>+<span class="string">&quot;&quot;</span><span class="string">&quot;]&quot;</span>) <span class="literal">-headers</span> <span class="variable">$headers</span> <span class="literal">-ContentType</span> <span class="variable">$ContentType_DEFAULT</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://github.com/rohman-zhu/posts/bbe5a633/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rohman.Zhu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | è¯ºæ›¼å®éªŒå®¤">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/bbe5a633/" class="post-title-link" itemprop="url">Tinywallä¸‹çš„é˜²ç«å¢™ç­–ç•¥æ€è€ƒ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-11-08 11:59:07" itemprop="dateCreated datePublished" datetime="2025-11-08T11:59:07+00:00">2025-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-11-16 15:32:43" itemprop="dateModified" datetime="2025-11-16T15:32:43+00:00">2025-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Windows-Server/" itemprop="url" rel="index"><span itemprop="name">Windows Server</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ç°è±¡è¯´æ˜"><a href="#ç°è±¡è¯´æ˜" class="headerlink" title="ç°è±¡è¯´æ˜"></a>ç°è±¡è¯´æ˜</h1><p>ä¸€å°windowsä¸­å®‰è£…äº†Tinywallç”¨äºåº”ç”¨é˜²æŠ¤ï¼Œæœ¬æ¥æƒ³æ§åˆ¶ 3389 çš„è¿œç¨‹RDPæµé‡è®¿é—®ï¼Œä½†Tinywallåªèƒ½å¯¹æµé‡çš„å¼€ä¸æ”¾åšé™åˆ¶ï¼Œæ§åˆ¶çš„é¢—ç²’åº¦ä¸è¶³ï¼›æ‰€ä»¥å°±æƒ³é€šè¿‡æœ¬åœ°é˜²ç«å¢™ç­–ç•¥è¿›ä¸€æ­¥åœ°æ§åˆ¶ï¼Œä½†å‘ç°æœ¬åœ°Firewall Ruleæ ¹æœ¬ä¸ç”¨å†™ç­–ç•¥ï¼Œ3389 çš„æµé‡å³å¯è”é€šï¼›<br>æ‰€ä»¥ä¸é¢„æœŸä¸ç¬¦ã€‚</p>
<p>æ ¸å¿ƒè¯‰æ±‚ï¼š</p>
<ol>
<li>é€šè¿‡Tinywallæ§åˆ¶è½¯ä»¶åº”ç”¨çš„è®¿é—®ï¼›</li>
<li>é€šè¿‡Windows Firewall Ruleè¿›è¡Œæ›´ç²¾ç»†åŒ–çš„ç®¡ç†ï¼›</li>
</ol>
<p>ä½†åœ¨Tinywallä¸­ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªç­–ç•¥â€œTinywall Compat[DDK2cx]â€ï¼Œè¿™ä¸ªç­–ç•¥å†™çš„æ˜¯æ”¾é€š any to anyï¼Œä¹Ÿå°±æ˜¯å…¨æ”¾å¼€ï¼Œæ‰€æœ‰çš„ç­–ç•¥ä¼šä¼˜å…ˆåŒ¹é…çš„è¿™é‡Œï¼›åç»­å†æ€ä¹ˆè®¾ç½®å…è®¸ç­–ç•¥+å…è®¸çš„è¿œç«¯æœåŠ¡å™¨IPï¼Œéƒ½ä¸ä¼šç”Ÿæ•ˆï¼›<br>æ‰€ä»¥æ ¸å¿ƒè¯‰æ±‚1å®ç°äº†ï¼Œä½†æ ¸å¿ƒè¯‰æ±‚2å´æ— æ³•å®ç°ï¼›</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>Windowsç­–ç•¥æ˜¯æ‹’ç»ä¼˜å…ˆï¼Œåœ¨åŒæ—¶å­˜åœ¨Allowç­–ç•¥ä¸Denyç­–ç•¥çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆæ‰§è¡ŒDenyç­–ç•¥ï¼Œæˆ‘å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œè®¾ç½®æ‹’ç»ç­–ç•¥ï¼Œå¹¶é™åˆ¶èŒƒå›´ï¼›</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯æœ¬åœ°é˜²ç«å¢™</span></span><br><span class="line">Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled True</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé˜²ç«å¢™ç­–ç•¥</span></span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_80_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_80_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort 80 -Protocol TCP;</span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_89_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_89_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort 89 -Protocol TCP;</span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_443_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_443_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort 443 -Protocol TCP;</span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_445_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_445_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort 445 -Protocol TCP;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åœ°å€æœ‰æ•ˆèŒƒå›´</span></span><br><span class="line"><span class="variable">$RemoteAddress_Set</span>=@();</span><br><span class="line"><span class="comment"># å…¨ç¦ç”¨å°±ä¸ç”¨ç®¡äº†ï¼Œæˆ–è€…å†™1.0.0.0-255.255.255.255</span></span><br><span class="line"><span class="comment"># å¦‚æœåªæœ‰ä¸€æ®µä¸ç¦ç”¨ï¼Œæ¯”å¦‚10.0.0.0-10.255.255.255æ”¾è¡Œï¼Œåˆ™è¿™ä¹ˆå†™</span></span><br><span class="line"><span class="variable">$RemoteAddress_Set</span> += <span class="string">&quot;1.0.0.0-10.0.0.0&quot;</span>;</span><br><span class="line"><span class="variable">$RemoteAddress_Set</span> += <span class="string">&quot;10.255.255.255-255.255.255.255&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç­–ç•¥çš„æœ‰æ•ˆèŒƒå›´</span></span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_80_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAddress_Set</span>;</span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_89_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAddress_Set</span>;</span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_443_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAddress_Set</span>;</span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_445_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAddress_Set</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># RDPä¸WINRM</span></span><br><span class="line"><span class="variable">$RDP_Port</span>=3389;</span><br><span class="line"><span class="variable">$WINRM_PORT</span>=5985;</span><br><span class="line"></span><br><span class="line"><span class="variable">$RemoteAdministrator_Set</span>=@();</span><br><span class="line"></span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_<span class="subst">$($RDP_Port)</span>_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_<span class="subst">$($RDP_Port)</span>_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort <span class="variable">$RDP_Port</span> -Protocol TCP;</span><br><span class="line">New-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_<span class="subst">$($WINRM_PORT)</span>_ALL&quot;</span> -DisplayName <span class="string">&quot;DENY_TCP_<span class="subst">$($WINRM_PORT)</span>_ALL&quot;</span> -Enabled True -Direction Inbound -Action BLOCK -LocalPort <span class="variable">$WINRM_PORT</span> -Protocol TCP;</span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_<span class="subst">$($RDP_Port)</span>_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAdministrator_Set</span>;</span><br><span class="line">Get-NetFirewallRule -Name <span class="string">&quot;DENY_TCP_<span class="subst">$($WINRM_PORT)</span>_ALL&quot;</span> | Get-NetFirewallAddressFilter | Set-NetFirewallAddressFilter -RemoteAddress <span class="variable">$RemoteAdministrator_Set</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/">47</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Rohman.Zhu</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":"light","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>





  





</body>
</html>
